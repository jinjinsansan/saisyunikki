# 機能仕様書

## 📱 アプリケーション概要
「かんじょうにっき」は自己肯定感を育てる感情日記アプリです。

## ✅ 実装済み機能

### 1. 基本機能
- **TOPページ**: 美しいグラデーション背景とハートアイコン
- **プライバシー同意**: 詳細な同意画面と履歴表示
- **ナビゲーション**: 9つのメニュー項目

### 2. 日記機能
- **日記作成**: カレンダー選択、感情選択、スコア入力
- **日記編集**: モーダル形式での編集
- **日記削除**: 確認ダイアログ付き削除
- **日記検索**: キーワード・日付・感情での検索

### 3. データ分析
- **無価値感推移**: SVGベースのグラフ表示
- **期間選択**: 1週間/1ヶ月/全期間
- **感情頻度**: 感情の出現頻度分析

### 4. ソーシャル機能
- **SNSシェア**: Web Share API対応
- **シェアテンプレート**: 日記作成時・推移表示時

### 5. データ管理
- **ローカルストレージ**: 完全ローカル保存
- **テストデータ**: 10日分の自動生成
- **データ同期**: リアルタイム更新

## 🔄 準備中機能

### 1. バックエンド連携
- **さくらのサーバーAPI**: PHP + MySQL
- **カウンセラー管理画面**: 認証付き管理機能
- **データベース保存**: 永続化対応

### 2. カウンセラーサポート
- **チャット機能**: リアルタイムメッセージング
- **緊急対応**: 自動アラート機能
- **データ分析**: 専門家向けダッシュボード

### 3. 高度な分析
- **AI分析**: 感情パターン分析
- **レポート生成**: 定期レポート
- **予測機能**: リスク予測

## 🎨 UI/UX仕様

### デザインシステム
- **フォント**: Noto Sans JP
- **カラーパレット**: 温かみのあるグラデーション
- **レスポンシブ**: モバイルファースト

### アニメーション
- **マイクロインタラクション**: ホバー効果
- **トランジション**: スムーズな画面遷移
- **ローディング**: 美しいスピナー

## 📊 データ構造

### 日記エントリー
```typescript
interface JournalEntry {
  id: string;
  date: string;
  emotion: string;
  event: string;
  realization: string;
  selfEsteemScore: number;
  worthlessnessScore: number;
}
```

### ユーザー情報
```typescript
interface User {
  id: string;
  lineUsername: string;
  createdAt: string;
}
```

## 🔒 セキュリティ仕様

### プライバシー保護
- **同意管理**: 詳細な同意取得
- **データ暗号化**: 保存時暗号化
- **アクセス制御**: 厳格な権限管理

### 緊急時対応
- **自動検知**: 危険度判定
- **即座通知**: カウンセラーへの通知
- **緊急連絡**: 関係機関との連携

## 📱 対応環境

### ブラウザ
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

### デバイス
- スマートフォン（iOS/Android）
- タブレット
- デスクトップPC

## 🚀 パフォーマンス

### 目標値
- **初回読み込み**: 3秒以内
- **画面遷移**: 1秒以内
- **データ保存**: 即座

### 最適化
- **コード分割**: 動的インポート
- **画像最適化**: WebP対応
- **キャッシュ戦略**: 効率的なキャッシュ